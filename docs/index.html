<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Outil de calcul l'Indice Biologique Diatomées en Lac • IBDL</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Outil de calcul l'Indice Biologique Diatomées en Lac">
<meta property="og:description" content="Ce package regroupe toutes les fonctions necessaires afin de calculer l Indice Biologique Diatomées en Lac et determiner la classe d etat ecologique du plan d eau.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">IBDL</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/1_fonctions.html">Les fonctions</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="indice-biologique-diatomées-en-lac-ibdl-">Indice Biologique Diatomées en Lac (IBDL) <img src="reference/figures/logo.png" align="right" height="139"><a class="anchor" aria-label="anchor" href="#indice-biologique-diatom%C3%A9es-en-lac-ibdl-"></a>
</h1></div>
<!-- badges: start -->

</div>
<div class="section level1">
<h1 id="installation-de-ibdl">Installation de <code>{IBDL}</code>
<a class="anchor" aria-label="anchor" href="#installation-de-ibdl"></a>
</h1>
<p>La version du package <code>{IBDL}</code> peut se télécharger via le site Github pour cela on aura besoin du package <a href="https://remotes.r-lib.org" class="external-link">remotes</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"SebastienBoutry/IBDL"</span><span class="op">)</span></code></pre></div>
<p><em>NB : Le logiciel RTools est parfois nécessaire sur les machines Windows pour pouvoir installer le package <a href="https://remotes.r-lib.org" class="external-link">remotes</a>, puisque l’installation ici se fait depuis un dépôt de développement (Github) et non un dépôt officiel R. Vous pouvez l’installer ici : <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link">Rtools</a></em></p>
<p>Une fois installé, vous pouvez charger le package avec :</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">IBDL</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level1">
<h1 id="objectif">Objectif<a class="anchor" aria-label="anchor" href="#objectif"></a>
</h1>
<p>L’objectif de ce package <code>{IBDL}</code> est de fournir les fonctions nécessaires pour calculer l’Indice Biologique Diatomées en Lac.</p>
<p><em>NB : L’IBDL a été développé par l’équipe ECOVEA (INRAE, unité EABX) dans le projet Phytobenthos plan d’eau financé par l’OFB-Pôle ECLA.</em></p>
</div>
<div class="section level1">
<h1 id="utilisation">Utilisation<a class="anchor" aria-label="anchor" href="#utilisation"></a>
</h1>
<p>Le package <code>{IBDL}</code> sert à calculer l’Indice Biologique Diatomées en Lac (IBDL) afin de donner une valeur et une classe d’état écologique au plan d’eau étudié (conforme à la Directive Cadre Européenne sur l’Eau (Commission 2000)).</p>
<p><em>NB Dans le rapport scientifique (Boutry et al. 2021), les différentes étapes de la construction de l’IBDL y est décrite.</em></p>
<div class="section level2">
<h2 id="les-besoins">Les besoins<a class="anchor" aria-label="anchor" href="#les-besoins"></a>
</h2>
<p>L’Indice Biologique Diatomées en Lac s’appuie sur un protocole d’échantillonnage décrit dans (Morin et al. 2010) et dans la norme macrophytes plan d’eau (Afnor 2010).</p>
<p>Afin d’être réprésentatif de la masse d’eau, plusieurs stations sont échantillonnés (échantillonnage stratifiée). La deuxième étape de retranscription sur des fichiers standardisés facilite l’alimentation des bases des données et la troisième étape consiste au calcul de l’indice.</p>
<div class="section level3">
<h3 id="protocole-déchantillonnage">Protocole d’échantillonnage<a class="anchor" aria-label="anchor" href="#protocole-d%C3%A9chantillonnage"></a>
</h3>
<p>Plusieurs stations (ou unités d’observation) sont échantillonnées sur un ou deux types de substrat (minéral/dur ou végétal). Le positionnement de ces unités d’observation est décrite dans la norme macrophytes plan d’eau (Afnor 2010) elle utilise la méthode de Jensen (Jensén 1977) qui a été incrémentée dans le package <a href="https://github.com/SebastienBoutry/diatomfrLake" class="external-link"><code>{lakemetrics}</code></a>.</p>
</div>
<div class="section level3">
<h3 id="acquisition-des-données">Acquisition des données<a class="anchor" aria-label="anchor" href="#acquisition-des-donn%C3%A9es"></a>
</h3>
<p>Deux sources de “template” de fichiers de données sont disponibles <a href="https://hydrobio-dce.inrae.fr/" class="external-link">Hydrobio-DCE</a> et <a href="https://professionnels.ofb.fr/node/398" class="external-link">OFB</a>. Il est conseillé d’utiliser la version OFB.</p>
<p>La mise en forme des fichiers peuvent se faire à l’aide du package <a href="https://github.com/SebastienBoutry/diatomfrLake" class="external-link"><code>{diatomfrLake}</code></a>.</p>
<p>Des données mésologiques (au niveau de la campagne et l’unité d’observation) et des listes floristiques sont acquises sont réparties dans deux fichiers distincts :</p>
<ul>
<li>le premier contient les listes floristiques (id_prelevement, taxons, ab),</li>
<li>le second renseigne sur les données de contexte liées au site d’étude (id_prelevement, id_uo, nature_substrat, code_gene, date).</li>
</ul>
</div>
<div class="section level3">
<h3 id="la-validation-des-tableaux-de-données">La validation des tableaux de données<a class="anchor" aria-label="anchor" href="#la-validation-des-tableaux-de-donn%C3%A9es"></a>
</h3>
<p>L’utilisation du package <code>{CheckOfTable}</code> permet de contrôler les tableaux d’importation.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"SebastienBoutry/CheckOfTable"</span><span class="op">)</span>
<span class="co">#&gt; Skipping install of 'CheckOfTable' from a github remote, the SHA1 (0e2c1ff6) has not changed since last install.</span>
<span class="co">#&gt;   Use `force = TRUE` to force installation</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="données-internes-embarquées">Données internes embarquées<a class="anchor" aria-label="anchor" href="#donn%C3%A9es-internes-embarqu%C3%A9es"></a>
</h3>
<p>Les jeux de données internes embarquées correspondent aux jeux de données dit de référence. Ils sont décrits ci-dessous :</p>
<p><strong><code>table_transcodage</code></strong> : Table de transcodage permettant de faire correspondre le code_taxon 4 lettres (type OMNIDIA) à son entité taxonomique qui a été considérée pour la construction de l’IBDL. Le choix pour l’indice est d’harmoniser les taxons à un rang taxonomique de l’espèce. On a pris en compte la synonymie et l’héritage taxonomique.</p>
<p>Dans l’extrait ci-dessous, les deux premières colonnes correspondent au code taxon et le nom scientifique associé. Les trois dernières colonnes sont les informations liées à la construction de l’indice. Le tableau ci-dessous correspond à tous les taxons ayant un code taxon (indice) pour valeur CBCU (<em>Cymbopleura cuspidata</em>).</p>
<p><img src="reference/figures/README-table_transcodage_ex.png" width="100%"></p>
<p><strong><code>table_taxons_alertes</code></strong> Table binaire indiquant si le taxon est considéré comme indiciel et/ou d’alerte selon les paramètres (DBO5, MES, NKJ et Ptot). Le nombre 1 indique si le taxon est considéré comme un taxon d’alerte.</p>
<p><img src="reference/figures/README-my_tab_alertes_ex.png" width="100%"></p>
<p><strong><code>table_reference</code></strong> table regroupant les informations afin de calculer les métriques au niveau du prélèvement pour chaque paramètre, type de substrat et la classe d’alcalinité du plan d’eau.</p>
<p><img src="reference/figures/README-my_tab_SES_ex.png" width="100%"></p>
<p><strong><code>table_lacs</code></strong> Table regroupant les informations sur la classification des lacs selon l’alcalinité (Kelly et al. 2014) et le nombre minimal théorique d’unités d’observation à échantillonner sur chaque plan d’eau selon leur superficie (Afnor 2010).</p>
<p>Les classes d’alcalinité des plans d’eau sont définis comme ceci :</p>
<ul>
<li>LA (basse) : alcalinité &lt;0.2 meq.l-1;</li>
<li>MA (moyenne) : 0.2 meq.l-1 &lt;= alcalinité &lt; 1 meq.l-1;</li>
<li>HA (haute) : alcalinité alcalinité &gt;=1 meq.l-1.</li>
</ul>
<p><img src="reference/figures/README-my_tab_lacs_ex.png" width="100%"></p>
<div align="center">
<p><img src="reference/figures/1_script_IBDL_besoins.png" width="600px"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="les-étapes">Les étapes<a class="anchor" aria-label="anchor" href="#les-%C3%A9tapes"></a>
</h2>
<p>On trouve 10 fonctions dans ce package. L’une d’elle <strong>fibdl</strong> est une fonction intégratrice (utilisant les 9 autres) afin de définir l’indice IBDL. Il est possible de faire une seule partie du cheminement afin de d’avoir les résultats intermédiaires à différentes échelles spatiales.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ## Chargement du package</span>
<span class="co"># if(!require("remotes")) {install.packages("remotes")} </span>
<span class="co"># remotes::install_github("SebastienBoutry/IBDL",force = TRUE)</span>
<span class="co"># library(IBDL)</span>

<span class="co">## Chemins</span>
<span class="va">chemin_flore</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"listflor.csv"</span>, package <span class="op">=</span> <span class="st">"IBDL"</span><span class="op">)</span> <span class="co"># A remplacer par votre chemin</span>
<span class="va">chemin_uo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"info_uo.csv"</span>, package <span class="op">=</span> <span class="st">"IBDL"</span><span class="op">)</span> <span class="co"># A remplacer par votre chemin</span>

<span class="co">### Si besoin d'aide pour les chemins, dé-commenter et exécuter ces lignes à la place pour sélectionner les fichiers via une fenêtre de dialogue</span>
<span class="co"># chemin_flore &lt;- rstudioapi::selectFile()</span>
<span class="co"># chemin_uo &lt;- restudioapi::selectFile()</span>

<span class="co">## Import</span>
<span class="va">listflor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv2</a></span><span class="op">(</span><span class="va">chemin_flore</span>, fileEncoding <span class="op">=</span> <span class="st">"utf-8"</span><span class="op">)</span>
<span class="va">info_uo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv2</a></span><span class="op">(</span><span class="va">chemin_uo</span>, fileEncoding <span class="op">=</span> <span class="st">"utf-8"</span><span class="op">)</span>

<span class="co">## Calcul de l'IBDL</span>
<span class="va">ibdl</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fibdl.html">fibdl</a></span><span class="op">(</span><span class="va">listflor</span>,<span class="va">info_uo</span><span class="op">)</span>

<span class="co">## Affichage des résultats</span>
<span class="va">ibdl</span></code></pre></div>
<p><img src="reference/figures/README-ibdl_ex.png" width="100%"></p>
<!-- Certaines fonctions permettent de :  -->
<!-- - harmoniser les données, -->
<!-- - qualifier/valider les données ou les métriques, -->
<!-- - calculer les métriques selon un grain spatial (prélèvement, unité d'observation et lac). -->
<p>Toutes les fonctions sont détaillées dans la vignette du package.</p>
<div align="center">
<p><img src="reference/figures/2_phases_programmation.png" width="600px"></p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="contact">Contact<a class="anchor" aria-label="anchor" href="#contact"></a>
</h1>
<div align="center">
<p>   <span class="emoji" data-emoji="e-mail">📧</span> <a href="mailto:sebastien.boutry@inrae.fr">Email</a>   |   :speech_balloon: <a href="https://twitter.com/SebBoutry" class="external-link">Twitter</a>   |   <span class="emoji" data-emoji="necktie">👔</span> <a href="https://www.linkedin.com/in/s%C3%A9bastien-boutry-4a77ba10/" class="external-link">LinkedIn</a></p>
<!--
Quick Link
-->
</div>
</div>
<div class="section level1">
<h1 id="références">Références<a class="anchor" aria-label="anchor" href="#r%C3%A9f%C3%A9rences"></a>
</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-afnorXP" class="csl-entry">
Afnor. 2010. “XP T90-328 Qualité de l’eau Echantillonnage Des Communautés de Macrophytes En Plans d’eau.”
</div>
<div id="ref-Boutry2021" class="csl-entry">
Boutry, Sébastien, Soizic Morin, Vincent Bertrin, and Juliette Rosebery. 2021. “Évaluation écologique Des Plans d’eau Basée Sur Les Communautés de Diatomées Benthiques.” INRAE, UR EABX, équipe ECOVEA.
</div>
<div id="ref-Directive2000" class="csl-entry">
Commission, European. 2000. “Water Framework Directive.” <em>Journal Reference OJL</em> 327: 1–73.
</div>
<div id="ref-Jensen1977" class="csl-entry">
Jensén, Sven. 1977. “An Objective Method for Sampling the Macrophyte Vegetation in Lakes.” <em>Vegetatio</em> 33 (2): 107–18.
</div>
<div id="ref-Kelly2014" class="csl-entry">
Kelly, Martyn, Eva Acs, Vincent Bertrin, Helen Bennion, Gábor Borics, Amy Burgess, Luc Denys, et al. 2014. “Lake Phytobenthos Ecological Assessment Methods: Water Framework Directive Intercalibration Technical Report.”
</div>
<div id="ref-morin:hal-02594105" class="csl-entry">
Morin, Soizic, D. Valade, Juliette Tison-Rosebery, Vincent Bertrin, M. Cellamare, and Alain Dutartre. 2010. “<span class="nocase">Utilisation du phytobenthos pour la bioindication en plans d’eau : Etat de l’art des m<span class="nocase">é</span>thodes disponibles et test de m<span class="nocase">é</span>triques sur les plans d’eau aquitains</span>.” Research Report. Irstea. <a href="https://hal.inrae.fr/hal-02594105" class="external-link uri">https://hal.inrae.fr/hal-02594105</a>.
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing IBDL</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Sebastien Boutry <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8046-585X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Soizic Morin <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-0360-9383" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Vincent Bertrin <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-3888-8282" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Juliette Rosebery <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-1090-7020" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#maturing" class="external-link"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle:experimental"></a></li>
<li><a href="commits/master"><img src="https://img.shields.io/badge/Package%20version-0.0.1-orange.svg?style=flat-square" alt="packageversion"></a></li>
<li><a href="https://www.gnu.org/licenses/gpl-3.0.en.html" class="external-link"><img src="https://img.shields.io/badge/licence-GPL--3-blue.svg" alt="Licence"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Sebastien Boutry, Soizic Morin, Vincent Bertrin, Juliette Rosebery.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
